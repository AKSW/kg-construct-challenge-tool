{
  "@id": "http://example.com/cases/${TOOLNAME}/${NAME}",
  "name": "${TOOLNAME}: ${NAME2}",
  "description": "Transform data into N-Triples with ${TOOLNAME}",
  "steps": [{
    "@id": "http://example.com/cases/${TOOLNAME}/${NAME}#step1",
    "name": "Generate CSV-RML mapping",
    "resource": "${TOOLRESOURCE}",
    "command": "execute",
    "parameters": {
      "command": "integrate",
      "arguments": ["mapping.r2rml.ttl",
		    "PREFIX rml: <http://semweb.mmlab.be/ns/rml#> PREFIX rr:  <http://www.w3.org/ns/r2rml#> delete { ?map rr:logicalTable ?src . ?src rr:tableName ?name . } insert { ?map rml:logicalSource ?src . ?src rml:source ?nameCsv ; rml:referenceFormulation  <http://semweb.mmlab.be/ns/ql#CSV> . } where { ?map rr:logicalTable ?src . ?src rr:tableName ?name . bind(concat(?name,'.csv') as ?nameCsv) }",

		    "PREFIX rml: <http://semweb.mmlab.be/ns/rml#> PREFIX rr:  <http://www.w3.org/ns/r2rml#> delete { ?map rr:column ?column . } insert { ?map rml:reference ?column . } where { ?map rr:column ?column }",
		    
		    "spo.rq", "--out-file=mapping.csvrml.ttl"]
    }
  },{
    "@id": "http://example.com/cases/${TOOLNAME}/${NAME}#step2",
    "name": "Transform mapping into Sparql Query",
    "resource": "${TOOLRESOURCE}",
    "command": "execute_capture",
    "parameters": {
      "command": "${TOOLNAME} rml to sparql",
      "arguments": ["mapping.csvrml.ttl"],
      "output": "mapping.csvrml.rq"
    }
  },{
    "@id": "http://example.com/cases/${TOOLNAME}/${NAME}#step3",
    "name": "Optimise Sparql Query",
    "resource": "${TOOLRESOURCE}",
    "command": "execute_capture",
    "parameters": {
      "command": "${TOOLNAME} optimize workload",
      "arguments": ["mapping.csvrml.rq", "--no-order"],
      "output": "mapping.csvrml.optimised.rq"
    }
  },{
    "@id": "http://example.com/cases/${TOOLNAME}/${NAME}#step4",
    "name": "Transform data into RDF",
    "resource": "${TOOLRESOURCE}",
    "command": "execute",
    "parameters": {
      "command": "sansa query",
      "arguments": ["mapping.csvrml.optimised.rq", "--out-file=out.nt", "--out-overwrite"]
    }
  }]
}
